<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Sat Aug 10 17:04:42 EDT 2024 -->
<title>DatabaseEventListener</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-08-10">
<meta name="description" content="declaration: package: org.h2.api, interface: DatabaseEventListener">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.h2.api</a></div>
<h1 title="Interface DatabaseEventListener" class="title">Interface DatabaseEventListener</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code class="notranslate"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EventListener.html" title="class or interface in java.util" class="external-link">EventListener</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">DatabaseEventListener</span><span class="extends-implements">
extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EventListener.html" title="class or interface in java.util" class="external-link">EventListener</a></span></div>
<div class="block">A class that implements this interface can get notified about exceptions
 and other events. A database event listener can be registered when
 connecting to a database. Example database URL:
 jdbc:h2:./test;DATABASE_EVENT_LISTENER='com.acme.DbListener'</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code class="notranslate">static final int</code></div>
<div class="col-second even-row-color"><code class="notranslate"><a href="#STATE_BACKUP_FILE" class="member-name-link">STATE_BACKUP_FILE</a></code></div>
<div class="col-last even-row-color">
<div class="block">This state is used during the BACKUP command.</div>
</div>
<div class="col-first odd-row-color"><code class="notranslate">static final int</code></div>
<div class="col-second odd-row-color"><code class="notranslate"><a href="#STATE_CREATE_INDEX" class="member-name-link">STATE_CREATE_INDEX</a></code></div>
<div class="col-last odd-row-color">
<div class="block">This state is used when re-creating an index.</div>
</div>
<div class="col-first even-row-color"><code class="notranslate">static final int</code></div>
<div class="col-second even-row-color"><code class="notranslate"><a href="#STATE_RECONNECTED" class="member-name-link">STATE_RECONNECTED</a></code></div>
<div class="col-last even-row-color">
<div class="block">This state is used after re-connecting to a database (if auto-reconnect
 is enabled).</div>
</div>
<div class="col-first odd-row-color"><code class="notranslate">static final int</code></div>
<div class="col-second odd-row-color"><code class="notranslate"><a href="#STATE_RECOVER" class="member-name-link">STATE_RECOVER</a></code></div>
<div class="col-last odd-row-color">
<div class="block">This state is used when re-applying the transaction log or rolling back
 uncommitted transactions.</div>
</div>
<div class="col-first even-row-color"><code class="notranslate">static final int</code></div>
<div class="col-second even-row-color"><code class="notranslate"><a href="#STATE_SCAN_FILE" class="member-name-link">STATE_SCAN_FILE</a></code></div>
<div class="col-last even-row-color">
<div class="block">This state is used when scanning the database file.</div>
</div>
<div class="col-first odd-row-color"><code class="notranslate">static final int</code></div>
<div class="col-second odd-row-color"><code class="notranslate"><a href="#STATE_STATEMENT_END" class="member-name-link">STATE_STATEMENT_END</a></code></div>
<div class="col-last odd-row-color">
<div class="block">This state is used when a query ends.</div>
</div>
<div class="col-first even-row-color"><code class="notranslate">static final int</code></div>
<div class="col-second even-row-color"><code class="notranslate"><a href="#STATE_STATEMENT_PROGRESS" class="member-name-link">STATE_STATEMENT_PROGRESS</a></code></div>
<div class="col-last even-row-color">
<div class="block">This state is used for periodic notification during long-running queries.</div>
</div>
<div class="col-first odd-row-color"><code class="notranslate">static final int</code></div>
<div class="col-second odd-row-color"><code class="notranslate"><a href="#STATE_STATEMENT_START" class="member-name-link">STATE_STATEMENT_START</a></code></div>
<div class="col-last odd-row-color">
<div class="block">This state is used when a query starts.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code class="notranslate">default void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code class="notranslate"><a href="#closingDatabase()" class="member-name-link">closingDatabase</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">This method is called before the database is closed normally.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code class="notranslate">default void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code class="notranslate"><a href="#exceptionThrown(java.sql.SQLException,java.lang.String)" class="member-name-link">exceptionThrown</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a>&nbsp;e,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sql)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">This method is called if an exception occurred.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code class="notranslate">default void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code class="notranslate"><a href="#init(java.lang.String)" class="member-name-link">init</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">This method is called just after creating the object.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code class="notranslate">default void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code class="notranslate"><a href="#opened()" class="member-name-link">opened</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">This method is called after the database has been opened.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code class="notranslate">default void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code class="notranslate"><a href="#setProgress(int,java.lang.String,long,long)" class="member-name-link">setProgress</a><wbr>(int&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 long&nbsp;x,
 long&nbsp;max)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">This method is called for long running events, such as recovering,
 scanning a file or building an index.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="STATE_SCAN_FILE">
<h3>STATE_SCAN_FILE</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">STATE_SCAN_FILE</span></div>
<div class="block">This state is used when scanning the database file.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.h2.api.DatabaseEventListener.STATE_SCAN_FILE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="STATE_CREATE_INDEX">
<h3>STATE_CREATE_INDEX</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">STATE_CREATE_INDEX</span></div>
<div class="block">This state is used when re-creating an index.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.h2.api.DatabaseEventListener.STATE_CREATE_INDEX">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="STATE_RECOVER">
<h3>STATE_RECOVER</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">STATE_RECOVER</span></div>
<div class="block">This state is used when re-applying the transaction log or rolling back
 uncommitted transactions.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.h2.api.DatabaseEventListener.STATE_RECOVER">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="STATE_BACKUP_FILE">
<h3>STATE_BACKUP_FILE</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">STATE_BACKUP_FILE</span></div>
<div class="block">This state is used during the BACKUP command.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.h2.api.DatabaseEventListener.STATE_BACKUP_FILE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="STATE_RECONNECTED">
<h3>STATE_RECONNECTED</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">STATE_RECONNECTED</span></div>
<div class="block">This state is used after re-connecting to a database (if auto-reconnect
 is enabled).</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.h2.api.DatabaseEventListener.STATE_RECONNECTED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="STATE_STATEMENT_START">
<h3>STATE_STATEMENT_START</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">STATE_STATEMENT_START</span></div>
<div class="block">This state is used when a query starts.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.h2.api.DatabaseEventListener.STATE_STATEMENT_START">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="STATE_STATEMENT_END">
<h3>STATE_STATEMENT_END</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">STATE_STATEMENT_END</span></div>
<div class="block">This state is used when a query ends.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.h2.api.DatabaseEventListener.STATE_STATEMENT_END">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="STATE_STATEMENT_PROGRESS">
<h3>STATE_STATEMENT_PROGRESS</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">STATE_STATEMENT_PROGRESS</span></div>
<div class="block">This state is used for periodic notification during long-running queries.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.h2.api.DatabaseEventListener.STATE_STATEMENT_PROGRESS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="init(java.lang.String)">
<h3>init</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">init</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url)</span></div>
<div class="block">This method is called just after creating the object.
 This is done when opening the database if the listener is specified
 in the database URL, but may be later if the listener is set at
 runtime with the SET SQL statement.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code class="notranslate">url</code> - - the database URL</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="opened()">
<h3>opened</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">opened</span>()</div>
<div class="block">This method is called after the database has been opened. It is safe to
 connect to the database and execute statements at this point.</div>
</section>
</li>
<li>
<section class="detail" id="exceptionThrown(java.sql.SQLException,java.lang.String)">
<h3>exceptionThrown</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">exceptionThrown</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a>&nbsp;e,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sql)</span></div>
<div class="block">This method is called if an exception occurred.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code class="notranslate">e</code> - the exception</dd>
<dd><code class="notranslate">sql</code> - the SQL statement</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setProgress(int,java.lang.String,long,long)">
<h3>setProgress</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setProgress</span><wbr><span class="parameters">(int&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 long&nbsp;x,
 long&nbsp;max)</span></div>
<div class="block">This method is called for long running events, such as recovering,
 scanning a file or building an index.
 <p>
 More states might be added in future versions, therefore implementations
 should silently ignore states that they don't understand.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code class="notranslate">state</code> - the state</dd>
<dd><code class="notranslate">name</code> - the object name</dd>
<dd><code class="notranslate">x</code> - the current position</dd>
<dd><code class="notranslate">max</code> - the highest possible value or 0 if unknown</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="closingDatabase()">
<h3>closingDatabase</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">closingDatabase</span>()</div>
<div class="block">This method is called before the database is closed normally. It is safe
 to connect to the database and execute statements at this point, however
 the connection must be closed before the method returns.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
